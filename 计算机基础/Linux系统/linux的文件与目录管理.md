1.目录与路径  
=  
1.1绝对路径与相对路径PATH  
-  
### 1.1.1绝对路径  
路径的写法“一定由根目录 / 写起”，例如： /usr/share/doc 这个目录（正确度要比较好）  

### 1.1.2相对路径  
相对于目前工作目录的路径（方便）

### 1.1.3常用命令
变换路径：
```  
. 代表此层目录
.. 代表上一层目录
- 代表前一个工作目录
~ 代表“目前使用者身份”所在的主文件夹
~account 代表 account 这个使用者的主文件夹（account是个帐号名称）
```

命令行：cd \[相对路径或绝对路径\]   
解释：(Change Directory)变换目录  
示例：cd ..   

命令行：pwd \[-P\]  
解释：(Print Working Directory)显示目前所在的目录,-P：显示出确实的路径，而非使用链接（link）路径。  
示例：cd ..   

命令行：mkdir \[-mp\] 目录名称  
解释：
-m ：设置文件的权限喔！直接设置，不需要看默认权限 （umask） 的脸色～    
-p ：帮助你直接将所需要的目录（包含上层目录）递回创建起来！  
示例：  
mkdir -p test1/test2/test3/test4  
mkdir -m 711 test2   

命令行：rmdir \[-p\] 目录名称    
解释：-p ：连同“上层”“空的”目录也一起删除  
示例：rmdir -p test1/test2/test3/test4   
那如果要将所有目录下的东西都杀掉呢？ 这个时候就必须使用`rm -r test`(不安全)

1.2环境变量$PATH
-  
命令行：echo $PATH     
解释：查看当前用户环境变量  
示例：

命令行：PATH="${PATH}:/root"     
解释：添加环境变量  
示例：


2.文件与目录管理  
=  
2.1查看  
-  
命令行：   
ls \[-aAdfFhilnrRSt\] 文件名或目录名称..  
ls \[--color={never,auto,always}\] 文件名或目录名称..  
ls \[--full-time\] 文件名或目录名称..  
解释：  
-a ：全部的文件，连同隐藏文件（ 开头为 . 的文件） 一起列出来（常用）  
-A ：全部的文件，连同隐藏文件，但不包括 . 与 .. 这两个目录  
-d ：仅列出目录本身，而不是列出目录内的文件数据（常用）  
-f ：直接列出结果，而不进行排序 （ls 默认会以文件名排序！）  
-F ：根据文件、目录等信息，给予附加数据结构，例如：  
*:代表可可执行文件； /:代表目录； =:代表 socket 文件； &#124;:代表 FIFO 文件；  
-h ：将文件大小以人类较易读的方式（例如 GB, KB 等等）列出来；  
-i ：列出 inode 号码，inode 的意义下一章将会介绍；  
-l ：长数据串行出，包含文件的属性与权限等等数据；（常用）  
-n ：列出 UID 与 GID 而非使用者与群组的名称 （UID与GID会在帐号管理提到！）  
-r ：将排序结果反向输出，例如：原本文件名由小到大，反向则为由大到小；  
-R ：连同子目录内容一起列出来，等于该目录下的所有文件都会显示出来；  
-S ：以文件大小大小排序，而不是用文件名排序；  
-t ：依时间排序，而不是用文件名。  
--color=never ：不要依据文件特性给予颜色显示；  
--color=always ：显示颜色  
--color=auto ：让系统自行依据设置来判断是否给予颜色  
--full-time ：以完整时间模式 （包含年、月、日、时、分） 输出  
--time={atime,ctime} ：输出 access 时间或改变权限属性时间 （ctime）  
而非内容变更时间 （modification time）  
示例：  

2.2复制、移动与删除  
-  
在默认的条件中， cp 的来源文件与目的文件的权限是不同的，目的文件的拥有者通常会是指令操作者本身  
由于 cp 有种种的文件属性与权限的特性,你必须要清楚的了解到:  
是否需要完整的保留来源文件的信息？  
来源文件是否为链接文件 （symbolic link file）？  
来源文件是否为特殊的文件，例如 FIFO, socket 等？  
来源文件是否为目录？  

命令行：   
cp \[-adfilprsu\] 来源文件（source） 目标文件（destination）  
cp \[options\] source1 source2 source3 .... directory
解释：  
-a ：相当于 -dr --preserve=all 的意思，至于 dr 请参考下列说明；（常用）  
-d ：若来源文件为链接文件的属性（link file），则复制链接文件属性而非文件本身；  
-f ：为强制（force）的意思，若目标文件已经存在且无法打开，则移除后再尝试一次；  
-i ：若目标文件（destination）已经存在时，在覆盖时会先询问动作的进行（常用）  
-l ：进行硬式链接（hard link）的链接文件创建，而非复制文件本身；  
-p ：连同文件的属性（权限、用户、时间）一起复制过去，而非使用默认属性（备份常用）；  
-r ：递回持续复制，用于目录的复制行为；（常用）  
-s ：复制成为符号链接文件 （symbolic link），亦即“捷径”文件；  
-u ：destination 比 source 旧才更新 destination，或 destination 不存在的情况下才复制。  
--preserve=all ：除了 -p 的权限相关参数外，还加入 SELinux 的属性, links, xattr 等也复制了。  
最后需要注意的，如果来源文件有两个以上，则最后一个目的文件一定要是“目录”才行！
示例：  


命令行：rm \[-fir\] 文件或目录   
解释：  
-f ：就是 force 的意思，忽略不存在的文件，不会出现警告讯息；  
-i ：互动模式，在删除前会询问使用者是否动作  
-r ：递回删除啊！最常用在目录的删除了！这是非常危险的选项！！！    
示例：  

命令行：  
mv \[-fiu\] source destination   
mv \[options\] source1 source2 source3 .... directory  
解释：  
-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；  
-i ：若目标文件 （destination） 已经存在时，就会询问是否覆盖！  
-u ：若目标文件已经存在，且 source 比较新，才会更新 （update）   
示例：  


2.3取得路径的文件名称与目录名称  
-  
命令行：  
basename /etc/sysconfig/network  
dirname /etc/sysconfig/network   
解释：取得路径的文件名称与目录名称  
示例：
[root@study ~]# basename /etc/sysconfig/network  
network 很简单！就取得最后的文件名～  
[root@study ~]# dirname /etc/sysconfig/network  
/etc/sysconfig 取得的变成目录名了！  


3.文件内容查阅  
=  
3.1直接查看文件内容  
-  
命令行：cat \[-AbEnTv\]   
解释：  
-A ：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
-E ：将结尾的断行字符 $ 显示出来；
-n ：打印出行号，连同空白行也会有行号，与 -b 的选项不同；
-T ：将 \[tab\] 按键以 ^I 显示出来；
-v ：列出一些看不出来的特殊字符  
示例：cat /etc/issue  

反向显示：

这个命令在显示文件内容较少的文件时还行，但是当文件内容
命令行：cat \[-AbEnTv\]    
解释：与cat相反，tac，cat从第一行显示到最后一行，tac从最后一行显示到第一行  
示例：tac /etc/issue    

3.2文件添加行号显示  
-  
命令行：nl \[-bnw\] 文件   
解释：  
选项与参数：  
-b ：指定行号指定的方式，主要有两种：  
    -b a ：表示不论是否为空行，也同样列出行号（类似 cat -n）；  
    -b t ：如果有空行，空的那一行不要列出行号（默认值）；  
-n ：列出行号表示的方法，主要有三种：  
    -n ln ：行号在屏幕的最左方显示；  
    -n rn ：行号在自己字段的最右方显示，且不加 0 ；  
    -n rz ：行号在自己字段的最右方显示，且加 0 ；  
-w ：行号字段的占用的字符数。  
示例：nl /etc/issue  

上面的命令一次性将所有文件内容都显示在屏幕上，一下子就过去了，来不及看，怎么翻页呢  

3.3翻页查看  
-  
命令行：more 文件   
解释：一页一页翻动  
示例：more /etc/man_db.conf 

重点在最后一行，最后一行会显示出目前显示的百分比， 而且还可以在最后一行输入一些有用的指令，配合一些指令使用味道更佳  
空白键 （space）：代表向下翻一页；  
Enter ：代表向下翻“一行”；  
/字串 ：代表在这个显示的内容当中，向下搜寻“字串”这个关键字；  
:f ：立刻显示出文件名以及目前显示的行数；  
q ：代表立刻离开 more ，不再显示该文件内容。  
b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。  

命令行：less 文件   
解释：less 的用法比起 more 又更加的有弹性在 more 的时候，我们并没有办法向前面翻， 只能往后面看，但若使用了 less 时，就可以使用 \[pageup\] \[pagedown\] 等按键的功能来往前往后翻看文件，  
示例：less /etc/man_db.conf  

更丰富的指令配合  
空白键 ：向下翻动一页；  
[pagedown]：向下翻动一页；  
[pageup] ：向上翻动一页；  
/字串 ：向下搜寻“字串”的功能；  
?字串 ：向上搜寻“字串”的功能；  
n ：重复前一个搜寻 （与 / 或 ? 有关！）  
N ：反向的重复前一个搜寻 （与 / 或 ? 有关！）  
g ：前进到这个数据的第一行去；  
G ：前进到这个数据的最后一行去 （注意大小写）；  
q ：离开 less 这个程序；  


3.4部分文件查看  
-  
命令行：head [-n number] 文件   
解释：取出前面几行  
-n ：后面接数字，代表显示几行的意思  
示例：head -n 20 /etc/man_db.conf  


命令行：tail [-n number] 文件   
解释：取出后面几行  
-n ：后面接数字，代表显示几行的意思  
示例：tail -n 20 /etc/man_db.conf  
tail -n +100 /etc/man_db.conf（如果不知道/etc/man_db.conf有几行，却只想列出100行以后的数据时）  
tail -f /var/log/messages（持续侦测/var/log/messages的内容）  

组合拳出击（显示 /etc/man_db.conf 的第 11 到第 20 行）  
head -n 20 /etc/man_db.conf | tail -n 10  
（两个指令中间有个管线 （|） 的符号存在，意思是：前面的指令所输出的讯息，请通过管线交由后续的指令继续使用）

3.5非文本文件查看  
-  
命令行：od [-t TYPE] 文件   
解释：查阅非文本文件  
-t ：后面可以接各种“类型 （TYPE）”的输出，例如：  
a ：利用默认的字符来输出；  
c ：使用 ASCII 字符来输出  
d[size] ：利用十进制（decimal）来输出数据，每个整数占用 size Bytes ；  
f[size] ：利用浮点数值（floating）来输出数据，每个数占用 size Bytes ；  
o[size] ：利用八进位（octal）来输出数据，每个整数占用 size Bytes ；  
x[size] ：利用十六进制（hexadecimal）来输出数据，每个整数占用 size Bytes ；  
示例：od -t oCc /etc/issue(将/etc/issue这个文件的内容以8进位列出储存值与ASCII的对照表)    

3.6修改文件时间或者创建文件  
三个时间：modification time（mtime）文件内容数据改变时间；status time（ctime）状态改变时间，如权限与属性等；access time（atime）文件的内容被取用时间。  

命令行：date; ls -l --time=atime/ctime/mtime 文件   
解释：查看文件的时间  
示例：date; ls -l /etc/man_db.conf  

命令行：touch \[-acdmt\] 文件   
解释：修改文件的时间  
-a ：仅修订 access time；  
-c ：仅修改文件的时间，若该文件不存在则不创建新文件；  
-d ：后面可以接欲修订的日期而不用目前的日期，也可以使用 --date="日期或时间"  
-m ：仅修改 mtime ；  
-t ：后面可以接欲修订的时间而不用目前的时间，格式为\[YYYYMMDDhhmm\]  
示例：  


4.默认权限  
=  
4.1默认权限  
-  
默认情况下，文件的权限为666，目录的权限为777，umask在此基础上减去不需要的权限，比如当umask（查看umask 直接输入`umask`即可 ）为0022（后三位数字为普通权限对应数字）的时候对应文件权限为-rw-r--r--

命令行：umask 002   
解释：设置umask  
示例：  

4.2文件的隐藏属性  
-  
命令行：chattr \[+-=\]\[ASacdistu\] 文件或目录名称   
解释：  
+ ：增加某一个特殊参数，其他原本存在参数则不动。  
- ：移除某一个特殊参数，其他原本存在参数则不动。  
= ：设置一定，且仅有后面接的参数。  
a ：当设置 a 之后，这个文件将只能增加数据，而不能删除也不能修改数据，只有root 才能设置这属性。  
i ：这个 i 可就很厉害了！他可以让一个文件“不能被删除、改名、设置链接也无法写入或新增数据！”
对于系统安全性有相当大的助益！只有 root 能设置此属性  
示例：  

特殊方法设置的，特殊方法才能查看
命令行：lsattr \[-adR\] 文件或目录   
解释：  
-a ：将隐藏文件的属性也秀出来；  
-d ：如果接的是目录，仅列出目录本身的属性而非目录内的文件名；  
-R ：连同子目录的数据也一并列出来！    
示例： 


4.3文件的特殊权限SUID, SGID, SBIT  
-  
s 与 t 这两个权限的意义与系统的帐号 （第十三章）及系统的程序（process, 第十六章）较
为相关  

命令行：ls -ld /tmp ; ls -l /usr/bin/passwd   
解释：    
示例：   

4.4观察文件类型
命令行：file   
解释：某个文件的基本数据，例如是属于 ASCII 或者是 data 文件，或者是 binary， 且其中有没有使用到动态函数库 （share library） 等等的信息  
示例：file ~/.bashrc 


5.文件搜索  
=  
5.1找指令
-  
根据“PATH”这个环境变量所规范的路径，去搜寻“可执行文件”的文件名  
命令行：which \[-a\] command   
解释：-a ：将所有由 PATH 目录中可以找到的指令均列出，而不止第一个被找到的指令名称    
示例：  

5.2搜索文件  
-  
whereis 只找系统中某些特定目录下面的文件而已，locate 则是利用数据库来搜寻文件名，find找磁盘（慢）  

whereis快是因为只去找一些特定的目录，而不是所有的目录
命令行：whereis \[-bmsu\] 文件或目录名   
解释：    
-l :可以列出 whereis 会去查询的几个主要目录而已
-b :只找 binary 格式的文件  
-m :只找在说明文档 manual 路径下的文件  
-s :只找 source 来源文件  
-u :搜寻不在上述三个项目当中的其他特殊文件  
示例： 

locate快是因为在数据库里面搜索，但是数据库一天更新，所以可能会找不到，需要更新updatedb才可以找到文件  
命令行：locate \[-ir\] keyword     
解释：    
-i ：忽略大小写的差异；  
-c ：不输出文件名，仅计算找到的文件数量  
-l ：仅输出几行的意思，例如输出五行则是 -l 5  
-S ：输出 locate 所使用的数据库文件的相关信息，包括该数据库纪录的文件/目录数量等  
-r ：后面可接正则表达式的显示方式  
示例：   

命令行：find [PATH] [option] [action]   
解释：    
```
1\. 与时间有关的选项：共有 -atime, -ctime 与 -mtime ，以 -mtime 说明
-mtime n ：n 为数字，意义为在 n 天之前的“一天之内”被更动过内容的文件；
-mtime +n ：列出在 n 天之前（不含 n 天本身）被更动过内容的文件文件名；
-mtime -n ：列出在 n 天之内（含 n 天本身）被更动过内容的文件文件名。
-newer file ：file 为一个存在的文件，列出比 file 还要新的文件文件名
2\. 与使用者或群组名称有关的参数：
-uid n ：n 为数字，这个数字是使用者的帐号 ID，亦即 UID ，这个 UID 是记录在
/etc/passwd 里面与帐号名称对应的数字。这方面我们会在第四篇介绍。
-gid n ：n 为数字，这个数字是群组名称的 ID，亦即 GID，这个 GID 记录在
/etc/group，相关的介绍我们会第四篇说明～
-user name ：name 为使用者帐号名称喔！例如 dmtsai
-group name：name 为群组名称喔，例如 users ；
-nouser ：寻找文件的拥有者不存在 /etc/passwd 的人！
-nogroup ：寻找文件的拥有群组不存在于 /etc/group 的文件！
当你自行安装软件时，很可能该软件的属性当中并没有文件拥有者，
这是可能的！在这个时候，就可以使用 -nouser 与 -nogroup 搜寻。
3\. 与文件权限及名称有关的参数：
-name filename：搜寻文件名称为 filename 的文件；
-size [+-]SIZE：搜寻比 SIZE 还要大（+）或小（-）的文件。这个 SIZE 的规格有：
c: 代表 Byte， k: 代表 1024Bytes。所以，要找比 50KB
还要大的文件，就是“ -size +50k ”
-type TYPE ：搜寻文件的类型为 TYPE 的，类型主要有：一般正规文件 （f）, 设备文件 （b, c）,
目录 （d）, 链接文件 （l）, socket （s）, 及 FIFO （p） 等属性。
-perm mode ：搜寻文件权限“刚好等于” mode 的文件，这个 mode 为类似 chmod
的属性值，举例来说， -rwsr-xr-x 的属性为 4755 ！
-perm -mode ：搜寻文件权限“必须要全部囊括 mode 的权限”的文件，举例来说，
我们要搜寻 -rwxr--r-- ，亦即 0744 的文件，使用 -perm -0744，
当一个文件的权限为 -rwsr-xr-x ，亦即 4755 时，也会被列出来，
因为 -rwsr-xr-x 的属性已经囊括了 -rwxr--r-- 的属性了。
-perm /mode ：搜寻文件权限“包含任一 mode 的权限”的文件，举例来说，我们搜寻
-rwxr-xr-x ，亦即 -perm /755 时，但一个文件属性为 -rw-------
也会被列出来，因为他有 -rw.... 的属性存在！
4\. 额外可进行的动作：
-exec command ：command 为其他指令，-exec 后面可再接额外的指令来处理搜寻到的结果。
-print ：将结果打印到屏幕上，这个动作是默认动作！
```
示例：  
![find特殊能力](../../image/os/linux/find特殊能力.png "find特殊能力")






















