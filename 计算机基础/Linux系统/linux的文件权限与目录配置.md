基本概念与操作  
=  
文件拥有者：Linux是个多用户多任务的系统，因此可能常常会有多人同时使用这部主机来
进行工作的情况发生， 为了考虑每个人的隐私权以及每个人喜好的工作环境，因此，这
个“文件拥有者”的角色就显的相当的重要。  
群组：团队开发资源，每组的组员之间必须要能够互相修改对方的数据， 但是其他组的组
员则不能看到本组自己的文件内容，同时，如果我自己还有私人隐密的文件，仍然可以设置成让自己
的团队成员也看不到我的文件数据，且每个帐号都可以有多个群组的支持。  
其他人:
root(最顶级的存在)
![文件拥有者](../../image/os/linux/文件拥有者.png)  
***注意***：所有的系统上的帐号与一般身份使用者，还有那个root的相关信息， 都是记录在`/etc/passwd`这个文件内的;至于个人的密码则是记录在`/etc/shadow`这个文件下;所有的群组名称都纪录在`/etc/group`内。

1.查看文件目录
命令行：ls -al  
解释：list all （列出所有文件的详细的权限与属性，包括隐藏文件）
结果：  
![文件目录](../../image/os/linux/查看文件目录.png)  
结果中各部分的意思：  
1.1第一栏代表这个文件的类型与权限  
![权限](../../image/os/文件权限部分字段.png) 
第一个字符代表这个文件是“目录、文件或链接文件等等”：  
当为`d`则是目录;`-`则是文件;`l`则表示为链接文件;`b`则表示为设备文件里面的可供储存的周边设备;`c`则表示为设备文件里面的序列埠设备;  
接下来的字符中，以三个为一组，且均为“rwx” 的三个参数的组合。`r`代表可读
（read）、`w`代表可写（write）、`x`代表可执行（execute）这三个权限的位置不会改变，如果没有权限，就会出现减号`-`而已。第一组为“文件拥有者可具备的权限”；第二组为“加入此群组之帐号的权限”；第三组为“非本人且没有加入本群组之其他帐号的权限”。  
1.2第二栏表示有多少文件名链接到此节点（i-node）；
1.3第三栏表示这个文件（或目录）的“拥有者帐号”；  
1.4第四栏表示这个文件的所属群组；  
1.5第五栏为这个文件的容量大小，默认单位为Bytes；  
1.6第六栏为这个文件的创建日期或者是最近的修改日期；  
1.7第七栏为这个文件的文件名（如果文件名之前多一个“.”，则代表这个文件为“隐藏文件”）

2.改变文件的属性与权限  
命令行：chgrp [ -R ] dirname/filename...  
解释：-R表示递归变更，即将次目录下的所有文件所属的群组都改变为指定群组。  
示例：chgrp users initial-setup-ks.cfg  (将initial-setup-ks.cfg文件的群组变换为users，如果这个群组不存在就会报错)  

命令行：  
chown \[-R\] 帐号名称 文件或目录  
chown \[-R\] 帐号名称:群组名称 文件或目录  
解释：改变文件拥有者与群组  
示例：chown root:root initial-setup-ks.cfg  

改变文件的权限有两种方式：数字与符号  
数字类型：九个权限三个一组，分别使用数字代替：> r:4 > w:2 > x:1，还是3个一组  
命令行：chmod \[-R\] xyz 文件或目录  
解释：xyz : x/y/z就是刚刚提到的数字类型的权限属性，为rwx属性数值的相加。  
示例：chmod 644 .bashrc   

符号类型：
命令行：chmod u=rwx,g=rwx,o=rwx filename  
解释：u=rwx,go=rx 是连在一起的，中间并没有任何空白字符，借由u, g, o来代表三种
身份（user/group/others）的权限！此外，a则代表 all 亦即全部的身份！  
示例：chmod u=rwx,go=rx .bashrc  

3.拷贝文件  
命令行：cp 来源文件 目的文件  
解释：将来源文件这个文件拷贝成为目的文件  
示例：cp .bashrc .bashrc_test  

--------

linux系统下文件权限设置的意义在哪儿  
=
权限对文件的重要性    
r：可读取文件的实际***内容***，如文本文档的内容等  
w：可以编辑、新增或者是修改该文件的***内容***（但不含删除该文件）  
x：改文件具有可以被系统执行的权限（这里Windows不一样，Windows下面一个文件是否具有执行的能力是借由“ 扩展名 ”来判断的，例如：.exe,.bat, .com）  
权限对目录的重要性  
r：具有读取目录结构清单的权限  
w：具有异动该目录结构清单的权限（包括但不限于创建新的文件与目录、删除已经存在的文件与目录（不论该文件的权限为何！）、将已存在的文件或目录进行更名、搬移该目录内的文件、目录位置）   
x：代表的是使用者能否进入该目录成为工作目录的用途  
![rwx重要性](../../image/os/linux/rwx重要性.png)

这里需要注意的是只要当前用户对目录有w权限，就可以删除其中的文件，当前用户无论是否拥有这个文件的相关权限。  

文件的种类与扩展名
=  
文件类型
-  
1.\- 一般文件  
    纯文本文件（ASCII）(cat ~/.bashrc阅读内容)  
    二进制档（binary）（cat本身就是）  
    数据格式文件（data）

2.d 目录  
3.l 链接文件  
4.设备与设备文件（device），通常都集中在/dev这个目录之下  
    b 区块（block）设备文件：一些储存数据， 以提供系统随机存取的周边设备，举
例来说，硬盘与软盘等
    c 字符（character）设备文件：亦即是一些序列埠的周边设备， 例如键盘、鼠标等
5.s 数据接口文件（sockets）：这种类型的文件通常被用在网络上的数据承接了，最常在/run或/tmp这些个目录中看到这种文件类型  
6.p 数据输送档（FIFO, pipe）：FIFO（first-in-first-out）也是一种特殊的文件类型，他主要的目的在解决多个程序同时存取一个文件所造成的错误问题。

 文件拓展名  
 -  
1 *.sh ： 脚本或批处理文件 （scripts），因为批处理文件为使用shell写成的  
2 Z, .tar, .tar.gz, .zip, *.tgz： 经过打包的压缩文件  
3 .html, .php：网页相关文件，分别代表 HTML 语法与 PHP 语法的网页文件  


文件名的长度限制  
单一文件或目录的最大容许文件名为 255Bytes，以一个 ASCII 英文占用一个 Bytes 来说，则大约可达 255 个字符长度。若是以每个中文字占用 2Bytes 来说， 最大文件名就是大约在 128 个中文字之谱！  

文件名称字符限制  
由于指令会用到一些特殊字符，尽量避免 
```
? > < ; & ! [ ] | \ ' " ` （ ） { }
```  

文件的一些基本知识学完了，接下来看看这个操作系统的一些常用目录以及是什么含义  

linux目录配置（的Filesystem Hierarchy Standard （FHS））  
=  
没有一套标准，开源的linux目录不就乱套了。。。。。。  

四个大的类型  
可分享的：可以分享给其他系统挂载使用的目录，所以包括可执行文件与使用者的邮件等数据， 是能够分享给网络上其他主机挂载用的目录  
不可分享的：自己机器上面运行的设备文件或者是与程序有关的socket文件等， 由于仅与自身机器有关，所以当然就不适合分享给其他主机了。  
不变的：有些数据是不会经常变动的，跟随着distribution而不变动。 例如函数库、文件说明文档、系统管理员所管理的主机服务配置文件等等  
可变动的：经常改变的数据，例如登录文件、一般用户可自行收受的新闻群组等  

实际上，目录树架构仅定义出三层目录：  
/ （root, 根目录）：与开机系统有关； 
-   
    根目录（/）所在分区应该越小越好， 且应用程序所安装的软件最好不要与根目录放在同一个分区内，保持根目录越小越好。
| 目录 | 文件内容 |
| :----: | :----: |
| /bin | 单人维护模式下还能够被操作的指令, chmod, chown等等指令都是|
| /boot | 放置开机会使用到的文件，包括Linux核心文件以及开机菜单与开机所需配置文件等等，Linux kernel常用的文件名为：vmlinuz |
| /dev | 任何设备与周边设备都是以文件的型态存在于这个目录当中的 |
| /etc | 系统主要的配置文件几乎都放置在这个目录内，例如人员的帐号密码档、各种服务的启始档等等 |
| /lib | 系统的函数库非常的多，而/lib放置的则是在开机时会用到的函数库， 以及在/bin或/sbin下面的指令会调用的函数库而已，：/lib/modules/：这个目录主要放置可抽换式的核心相关模块（驱动程序）|
| /media | 放置的就是可移除的设备啦！ 包括软盘、光盘、DVD等等设备 |
| /mnt | 暂时挂载某些额外的设备 |
| /opt | 给第三方协力软件放置的目录 |
| /run | 系统开机后所产生的各项信息 |
| /sbin | 开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令。 |
| /srv | srv可以视为“service”的缩写，是一些网络服务启动之后，这些服务所需要取用的数据目录 |
| /tmp | 这是让一般使用者或者是正在执行的程序暂时放置文件的地方，重要数据不可放置在此目录啊！ 因为FHS甚至建议在开机时，应该要将/tmp下的数据都删除 |
| /home | 系统默认的使用者主文件夹，~：代表目前这个使用者的主文件夹 |
| /lib<qual> | 用来存放与 /lib 不同的格式的二进制函数库 |
| /root | 系统管理员（root）的主文件夹 |

几个非常重要的目录（虽然不在FHS定义的标准中）
| 目录 | 文件内容 |
| :----: | :----: |
|/lost+found|这个目录是使用标准的ext2/ext3/ext4文件系统格式才会产生的一个目录，目的在于当文件系统发生错误时， 将一些遗失的片段放置到这个目录下。如果使用的是 xfs 文件系统的话，就不会存在这个目录了  |
|/proc|这个目录本身是一个“虚拟文件系统（virtual filesystem），因为这个目录下的数据都是在内存当中（例如系统核心、行程信息（process）、周边设备的状态及网络状态等等）， 所以本身不占任何硬盘空间啊  |
|/sys|这个目录其实跟/proc非常类似，也是一个虚拟的文件系统，主要也是记录核心与系统硬件信息较相关的信息。 包括目前已载入的核心模块与核心侦测到的硬件设备信息等等。这个目录同样不占硬盘容量喔！|

/usr （unix software resource）：与软件安装/执行有关； 
-  
里面放置的数据属于可分享的与不可变动的，FHS建议所有软件开发者，应该将他们的数据合理的分别放置到这个目录下的次目录，而不要自行创建该软件自己独立的目录。
| 目录 | 文件内容 |
| :----: | :----: |
| /usr/bin/ | 所有一般用户能够使用的指令都放在这里 |
| /usr/lib/ | 基本上，与 /lib 功能相同 |
| /usr/local/ | 系统管理员在本机自行安装自己下载的软件（非distribution默认提供者），建议安装到此目录， 这样会比较便于管理 |
| /usr/sbin/ | 非系统正常运行所需要的系统指令。最常见的就是某些网络服务器软件的服务指令（daemon）啰！不过基本功能与 /sbin 也差不多 |
| /usr/share/ | 主要放置只读架构的数据文件，当然也包括共享文件 |

| 目录 | 文件内容 |
| :----: | :----: |
| /usr/games/ | 与游戏比较相关的数据放置处 |
| /usr/include/ | c/c++等程序语言的文件开始（header）与包含档（include）放置处 |
| /usr/libexec/ | 某些不被一般使用者惯用的可执行文件或脚本（script）等 |
| /usr/lib<qual>/ | 与 /lib<qual>/功能相同 |
| /usr/src/ | 一般源代码建议放置到这里，src有source的意思 |


/var （variable）：与系统运行过程有关。  
-  
| 目录 | 文件内容 |
| :----: | :----: |
| /var/cache/ | 应用程序本身运行过程中会产生的一些暂存盘； |
| /var/lib/ | 程序本身执行的过程中，需要使用到的数据文件放置的目录 |
| /var/lock/ | 某些设备或者是文件资源一次只能被一个应用程序所使用，如果同时有两个程序使用该设备时， 就可能产生一些错误的状况，因此就得要将该设备上锁（lock），以确保该设备只会给单一软件所使用。 |
| /var/log/ | 这是登录文件放置的目录 |
| /var/mail/ | 放置个人电子邮件信箱的目录 |
| /var/run/ | 某些程序或者是服务启动后，会将他们的PID放置在这个目录下，与 /run 相同|
| /var/spool/ | 这个目录通常放置一些伫列数据，所谓的“伫列”就是排队等待其他程序使用的数据，这些数据被使用后通常都会被删除 |
